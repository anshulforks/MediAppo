"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[519],{5560:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(5043),i=t(5369),o=t(9776),l=t(5475),r=t(7070),a=t(579);const c=()=>{const[e,s]=(0,n.useState)(localStorage.getItem("token")||""),[t,c]=(0,n.useState)(localStorage.getItem("token")?(0,r.A)(localStorage.getItem("token")):"");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("footer",{children:[(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsxs)("div",{className:"footer-links",children:[(0,a.jsx)("h3",{children:"Links"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/",children:"Home"})}),e&&!(t.isDoctor||t.isAdmin)&&(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/doctors",children:"Doctors"})}),e&&t.isAdmin&&(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/dashboard/users",children:"Dashboard"})}),e&&!t.isAdmin&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/appointments",children:"Appointments"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/notifications",children:"Notifications"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/applyfordoctor",children:"Apply for doctor"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.Vq,{to:"/#contact",children:"Contact Us"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.k2,{to:"/profile",children:"Profile"})})]})]})]}),(0,a.jsxs)("div",{className:"social",children:[(0,a.jsx)("h3",{children:"Social links"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:"facebook",children:(0,a.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(i.ok6,{})})}),(0,a.jsx)("li",{className:"youtube",children:(0,a.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(i.Vk6,{})})}),(0,a.jsx)("li",{className:"instagram",children:(0,a.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(i.ao$,{})})})]})]})]}),(0,a.jsxs)("div",{className:"footer-bottom",children:["Made by Anshul & Priyank \xa9 ",(new Date).getFullYear()]})]})})}},6519:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var n=t(5043),i=t(6213),o=t(3768),l=t(4960),r=t(579);const a=e=>{let{setModalOpen:s,ele:t}=e;const[a,c]=(0,n.useState)({date:"",time:""}),d=e=>{const{name:s,value:t}=e.target;return c({...a,[s]:t})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"modal flex-center",children:(0,r.jsxs)("div",{className:"modal__content",children:[(0,r.jsx)("h2",{className:"page-heading",children:"Book Appointment"}),(0,r.jsx)(l.WQq,{onClick:()=>{s(!1)},className:"close-btn"}),(0,r.jsx)("div",{className:"register-container flex-center book",children:(0,r.jsxs)("form",{className:"register-form",children:[(0,r.jsx)("input",{type:"date",name:"date",className:"form-input",value:a.date,onChange:d}),(0,r.jsx)("input",{type:"time",name:"time",className:"form-input",value:a.time,onChange:d}),(0,r.jsx)("button",{type:"submit",className:"btn form-btn",onClick:async e=>{if(e.preventDefault(),!a.date)return o.Ay.error("enter correct date");if(!a.time)return o.Ay.error("enter correct date");const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date(`${a.date}`).getDay()];if(!(null===t||void 0===t?void 0:t.day.toLowerCase().split(" ")).includes(n))return o.Ay.error("doctor is not available on selected date");const l=new Date(`2000-01-01T${a.time}`),r=new Date(`2000-01-01T${null===t||void 0===t?void 0:t.startTime}`),c=new Date(`2000-01-01T${null===t||void 0===t?void 0:t.endTime}`);console.log(r.getTime()),console.log(c.getTime()),console.log(l.getTime());if(!(l.getTime()>=r.getTime()&&l.getTime()<=c.getTime()))return o.Ay.error("selected time is not between start time and end time.");try{var d,m,h;await o.Ay.promise(i.A.post("/appointment/bookappointment",{doctorId:null===t||void 0===t||null===(d=t.userId)||void 0===d?void 0:d._id,date:a.date,time:a.time,doctorname:`${null===t||void 0===t||null===(m=t.userId)||void 0===m?void 0:m.firstname} ${null===t||void 0===t||null===(h=t.userId)||void 0===h?void 0:h.lastname}`},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Appointment booked successfully",error:"Unable to book appointment",loading:"Booking appointment..."}),s(!1)}catch(x){return x}},children:"book"})]})})]})})})},c=e=>{var s,t,i,l;let{ele:c}=e;const[d,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(localStorage.getItem("token")||"");return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-img flex-center",children:(0,r.jsx)("img",{src:(null===c||void 0===c||null===(s=c.userId)||void 0===s?void 0:s.pic)||"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:"profile"})}),(0,r.jsxs)("h3",{className:"card-name",children:["Dr. ",(null===c||void 0===c||null===(t=c.userId)||void 0===t?void 0:t.firstname)+" "+(null===c||void 0===c||null===(i=c.userId)||void 0===i?void 0:i.lastname)]}),(0,r.jsxs)("p",{className:"specialization",children:[(0,r.jsx)("strong",{children:"Specialization: "}),null===c||void 0===c?void 0:c.specialization]}),(0,r.jsxs)("p",{className:"experience",children:[(0,r.jsx)("strong",{children:"Experience: "}),null===c||void 0===c?void 0:c.experience,"yrs"]}),(0,r.jsxs)("p",{className:"fees",children:[(0,r.jsx)("strong",{children:"Fees per consultation: "}),"Rs ",null===c||void 0===c?void 0:c.fees]}),(0,r.jsxs)("p",{className:"phone",children:[(0,r.jsx)("strong",{children:"Phone: "}),null===c||void 0===c||null===(l=c.userId)||void 0===l?void 0:l.mobile]}),(0,r.jsxs)("p",{className:"day",children:[(0,r.jsx)("strong",{children:"Day: "}),null===c||void 0===c?void 0:c.day]}),(0,r.jsxs)("p",{className:"time",children:[(0,r.jsx)("strong",{children:"time: "}),null===c||void 0===c?void 0:c.startTime," - ",null===c||void 0===c?void 0:c.endTime]}),(0,r.jsx)("button",{className:"btn appointment-btn",onClick:()=>{if(""===h)return o.oR.error("You must log in first");m(!0)},children:"Book Appointment"}),d&&(0,r.jsx)(a,{setModalOpen:m,ele:c})]})};var d=t(5560),m=t(8114),h=t(5789),x=t(8271),j=t(9456),u=t(5089),p=t(6760);const g=()=>{const[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)(""),[o,l]=(0,n.useState)([]),a=(0,j.wA)(),{loading:g}=(0,j.d4)((e=>e.root));console.log(t.length);return(0,n.useEffect)((()=>{(async()=>{a((0,u.r1)(!0));const e=await(0,h.A)("/doctor/getalldoctors");s(e),a((0,u.r1)(!1))})()}),[]),(0,n.useEffect)((()=>{(s=>{if(""===("string"===typeof s?s:s.toString()).trim())return void l([]);const t=e.filter((e=>{const t=e.userId.firstname.toLowerCase().includes(s.toLowerCase()),n=null===e||void 0===e?void 0:e.specialization.toLowerCase().includes(s.toLowerCase());return t||n}));l(t)})(t)}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{}),g&&(0,r.jsx)(x.A,{}),!g&&(0,r.jsxs)("section",{className:"container doctors",children:[(0,r.jsx)("h2",{className:"page-heading",children:"Our Doctors"}),(0,r.jsx)("div",{className:"search-form",children:(0,r.jsx)("input",{type:"text",placeholder:"Search by name or Specilization",value:t.name,onChange:e=>i(e.target.value),style:{width:"700px",padding:"10px",fontSize:"20px",borderRadius:"15px"}})}),o.length>0&&t.length>0?(0,r.jsx)("div",{className:"doctors-card-container",children:o.map((e=>(0,r.jsx)(c,{ele:e},e._id)))}):e.length>0&&0===t.length?(0,r.jsx)("div",{className:"doctors-card-container",children:e.map((e=>(0,r.jsx)(c,{ele:e},e._id)))}):(0,r.jsx)(p.A,{})]}),(0,r.jsx)(d.A,{})]})}},6760:(e,s,t)=>{t.d(s,{A:()=>i});t(5043);var n=t(579);const i=()=>(0,n.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})},8114:(e,s,t)=>{t.d(s,{A:()=>x});var n=t(5043),i=t(3216),o=t(5475),l=t(9776),r=t(9456),a=t(5089),c=t(1009),d=t(5922),m=t(7070),h=t(579);const x=()=>{const[e,s]=(0,n.useState)(!1),t=(0,r.wA)(),x=(0,i.Zp)(),[j,u]=(0,n.useState)(localStorage.getItem("token")||""),[p,g]=(0,n.useState)(localStorage.getItem("token")?(0,m.A)(localStorage.getItem("token")):"");return(0,h.jsxs)("header",{children:[(0,h.jsxs)("nav",{className:e?"nav-active":"",children:[(0,h.jsx)("h2",{className:"nav-logo",children:(0,h.jsx)(o.k2,{to:"/",children:"Medi Appoint"})}),(0,h.jsxs)("ul",{className:"nav-links",children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/",children:"Home"})}),j&&!(p.isDoctor||p.isAdmin)&&(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/doctors",children:"Doctors"})}),j&&p.isAdmin&&(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/dashboard/users",children:"Dashboard"})}),j&&!p.isAdmin&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/appointments",children:"Appointments"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/notifications",children:"Notifications"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/applyfordoctor",children:"Apply for doctor"})}),(0,h.jsx)("li",{children:(0,h.jsx)(l.Vq,{to:"/#contact",children:"Contact Us"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/profile",children:"Profile"})})]}),j?(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"btn",onClick:()=>{t((0,a.iA)({})),localStorage.removeItem("token"),x("/login")},children:"Logout"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{className:"btn",to:"/login",children:"Login"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{className:"btn",to:"/register",children:"Register"})})]})]})]}),(0,h.jsxs)("div",{className:"menu-icons",children:[!e&&(0,h.jsx)(c.ND1,{className:"menu-open",onClick:()=>{s(!0)}}),e&&(0,h.jsx)(d.clO,{className:"menu-close",onClick:()=>{s(!1)}})]})]})}}}]);
//# sourceMappingURL=519.6ec7b660.chunk.js.map